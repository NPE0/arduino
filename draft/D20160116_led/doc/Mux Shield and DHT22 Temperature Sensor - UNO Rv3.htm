<!DOCTYPE html>
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/index.css">
	<link rel="stylesheet" type="text/css" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/responsive.css">
	<link rel="stylesheet" type="text/css" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/jquery.css">
	<style>
img.avatar { max-width: 65px; max-height: 65px; }</style>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/ga.js" async="" type="text/javascript"></script><script><!-- // --><![CDATA[
		var smf_theme_url = "http://forum.arduino.cc/Themes/default";
		var smf_default_theme_url = "http://forum.arduino.cc/Themes/default";
		var smf_images_url = "http://forum.arduino.cc/Themes/default/images";
		var smf_smileys_url = "http://forum.arduino.cc/Smileys";
		var smf_scripturl = "http://forum.arduino.cc/index.php";
		var smf_iso_case_folding = false;
		var smf_charset = "UTF-8";
		var smf_session_id = "33da008cab691e6182123083c748a8ea";
		var smf_session_var = "b1e25f91e";
		var smf_member_id;
		var ajax_notification_text = 'Loading...';
		var help_popup_heading_text = 'A little lost? Let me explain:';
	// ]]></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/jquery.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/smf_jquery_plugins.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/script.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/theme.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/editor.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/jquery_003.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/jquery_002.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/jquery_004.js"></script>
	<script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/topic.js"></script>
	<script><!-- // --><![CDATA[
		var smf_smileys_url = 'http://forum.arduino.cc/Smileys/arduino';
		var bbc_quote_from = 'Quote from';
		var bbc_quote = 'Quote';
		var bbc_search_on = 'on';
	// ]]></script>
	<meta name="description" content="Mux Shield and DHT22 Temperature Sensor - UNO Rv3">
	<title>Mux Shield and DHT22 Temperature Sensor - UNO Rv3</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#557EA0">
	<meta name="robots" content="noindex">
	<link rel="canonical" href="http://forum.arduino.cc/index.php?topic=148206.0">
	<link rel="help" href="http://forum.arduino.cc/index.php?action=help">
	<link rel="contents" href="http://forum.arduino.cc/index.php">
	<link rel="search" href="http://forum.arduino.cc/index.php?action=search">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - RSS" href="http://forum.arduino.cc/index.php?type=rss2;action=.xml">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - Atom" href="http://forum.arduino.cc/index.php?type=atom;action=.xml">
	<link rel="index" href="http://forum.arduino.cc/index.php?board=3.0">
</head>
<body style="padding-top: 40px;" id="firefox" class="action_messageindex board_3"><link rel="stylesheet" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/foundation2.css" type="text/css"><link rel="stylesheet" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/common-hacked.css" type="text/css"><link rel="stylesheet" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/new_style.css" type="text/css"><link rel="stylesheet" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/fonts.css" type="text/css"><link rel="stylesheet" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/arduino-icons.css" type="text/css">
<script>
  var userAgent = (navigator.userAgent || navigator.vendor || window.opera).toLowerCase();
  if(userAgent.indexOf('mac')>0){
    $("head").append('<style type="text/css">@-moz-document url-prefix() {h1 a, h2 a, h3 a, h4 a, h5 a, h1 a:hover, h2 a:hover, th a, th a:hover, h3 a:hover, h4 a:hover, h5 a:hover, #wikitext h2 a:hover, #wikitext h3 a:hover, #wikitext h4 a:hover {padding-bottom: 0.5em!important;} #pageheader .search input{font-family: "TyponineSans Regular 18";} #pagefooter .monospace{margin-top: -4px;} #navWrapper ul.left &gt; li{margin-top: -2px; padding-bottom: 2px;}#navWrapper ul.right &gt; li{margin-top: -5px; padding-bottom: 5px;}#navWrapper ul.right &gt; li ul{margin-top: 4px;} .slider-container .fixed-caption p{padding:8px 0 14px 0}}</style>');
  }
</script>

<!--[if IE]>
<link rel='stylesheet' href='https://id.arduino.cc//css/ie-monospace.css' type='text/css' />
<![endif]-->

<div style="display: block;" id="menuWings" class="fixed"></div>
<div id="page">




<!--[if IE 8]>
<div class="alert-box panel ie8alert">
  <p><strong>Arduino.cc offers limited compatibility for Internet Explorer 8. Get a modern browser as Chrome, Firefox or Safari.</strong></p>
  <a href="" class="close">&times;</a>
</div>
<![endif]-->

<div id="pageheader">
  <div class="row">
    <div class="small-6 large-8 eight columns">
      <div class="title"><a href="http://www.arduino.cc/">Arduino</a></div>
    </div>
    <div class="small-6 large-4 four columns search">
      <div class="row collapse">
          <form method="GET" action="//www.google.com/search">
    <div class="small-12 twelve columns">
      <i class="icon-search-2"></i>
      <input name="ie" value="UTF-8" type="hidden">
      <input name="oe" value="UTF-8" type="hidden">
      <input name="q" size="25" maxlength="255" placeholder="Search the Arduino Forum" type="text">
      <input name="btnG" value="search" type="submit">
      <input name="domains" value="http://forum.arduino.cc" type="hidden">
      <input name="sitesearch" value="http://forum.arduino.cc" type="hidden">
    </div>
  </form>      </div>
    </div>
  </div>

  <!--[if gte IE 9]><!-->
  <div class="navWrapper">
  <div class="small-12">
  <div id="navWrapper" class="sticky fixed">
  <!--[endif]-->
  <!--[if IE 8]>
    <div id="navWrapper">
  <![endif]-->
    <nav class="top-bar" data-options="is_hover:true">
      <ul class="title-area">
        <li class="name"></li>
      </ul>

      
    <section class="top-bar-section">
        <ul class="left">
          <li style="display: block;" id="navLogo">
            <a href="http://www.arduino.cc/">
              <img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/logo_46.png" alt="userpicture">
            </a>
          </li>
          <li style="display: none;" id="navHome"><a href="http://www.arduino.cc/">Home</a></li>
          <li><a href="http://store.arduino.cc/">Buy</a></li>
          <li><a href="http://www.arduino.cc/en/Main/Software">Download</a></li>
          <li class="has-dropdown not-click"><a href="http://www.arduino.cc/en/Main/Products">Products</a>
            <ul class="dropdown"><li class="title back js-generated"><h5><a href="#"><span class="backArrow">Back</span></a></h5></li><li><a class="parent-link js-generated" href="http://www.arduino.cc/en/Main/Products">Products</a></li>
              <li><a href="http://www.arduino.cc/en/Main/Products">Arduino <span class="menudescription">(USA only)</span></a></li>
              <li><a href="http://www.arduino.cc/en/Main/GenuinoProducts">Genuino <span class="menudescription">(outside USA)</span></a></li>
              <li><a href="http://www.arduino.cc/en/ArduinoAtHeart/Products">AtHeart</a></li>
              <li><a href="http://www.arduino.cc/en/ArduinoCertified/Products">Certified</a></li>
            </ul>
          </li>
          <li class="has-dropdown not-click"><a href="#">Learning</a>
            <ul class="dropdown"><li class="title back js-generated"><h5><a href="#"><span class="backArrow">Back</span></a></h5></li>
              <li><a href="http://www.arduino.cc/en/Guide/HomePage">Getting started</a></li>
              <li><a href="http://www.arduino.cc/en/Tutorial/HomePage">Tutorials</a></li>
              <li><a href="http://www.arduino.cc/en/Reference/HomePage">Reference</a></li>
              <li><a href="http://www.arduino.cc/en/Main/CTCprogram">CTC Program</a></li>
              <li><a href="http://playground.arduino.cc/">Playground</a></li>
            </ul>
          </li>
          <li class="active"><a href="http://forum.arduino.cc/">Forum</a></li>
          <li class="has-dropdown not-click"><a href="#">Support</a>
            <ul class="dropdown"><li class="title back js-generated"><h5><a href="#"><span class="backArrow">Back</span></a></h5></li>
              <li><a href="http://www.arduino.cc/en/Main/FAQ">FAQ</a></li>
              <li><a href="http://www.arduino.cc/en/ContactUs">Contact Us</a></li>
            </ul>
          </li>
          <li><a href="https://blog.arduino.cc/">Blog</a></li>
        </ul>

                <ul class="right">
          <li><a href="https://id.arduino.cc/auth/login/?returnurl=https%3A%2F%2Fforum.arduino.cc%2Findex.php%2Ftopic%2C148206.msg1114387.html" class="cart">LOG IN</a></li>
          <li><a href="https://id.arduino.cc/auth/signup" class="cart">SIGN UP</a></li>
        </ul>
              </section></nav>
  </div>
</div>
</div>
</div>


</div>

				<div class="navigate_section" id="headerbread">
          <div class="row" style="max-width: 960px!important;">
          <div class="small-12">
					<ul>
          
						<li>
					<a href="http://forum.arduino.cc/index.php"><span>Arduino Forum</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php#c2"><span>Using Arduino</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php?board=3.0"><span>Project Guidance</span></a>
						</li>
						<li class="last">
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php?topic=148206.0"><span>Mux Shield and DHT22 Temperature Sensor - UNO Rv3</span></a>
						</li>
					</ul>
        </div>
				</div>
				</div>
  <div class="row collapse">
  <div class="small-12 columns">
	<div id="wrapper">
    <div id="upper_section">
			<div id="inner_section">
				<div id="main_menu">
					<ul class="dropmenu sf-js-enabled sf-arrows" id="menu_nav">
					</ul>
				</div>
			</div>
		</div>
		<div id="content_section">
			<div id="main_content_section">

			<a id="msg1113621"></a>
			<div class="pagesection top">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="http://forum.arduino.cc/index.php?action=printpage;topic=148206.0" rel="nofollow">Print</a>
		</div>
				 <a href="#bot" class="topbottom floatleft">Go Down</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> 
				</div>
			</div>
			<div id="forumposts">
				<div class="cat_bar">
					<h3 class="catbg">
						<span id="top_subject" class="topic-icon topic-icon-">Topic: Mux Shield and DHT22 Temperature Sensor - UNO Rv3&nbsp;<span>(Read 6939 times)</span></span>
						<span class="nextlinks floatright"><a href="http://forum.arduino.cc/index.php?topic=148206.0;prev_next=prev#new">previous topic</a> - <a href="http://forum.arduino.cc/index.php?topic=148206.0;prev_next=next#new">next topic</a></span>
					</h3>
				</div>
				<form action="http://forum.arduino.cc/index.php?action=quickmod2;topic=148206.0" method="post" accept-charset="UTF-8" name="quickModForm" id="quickModForm" style="margin: 0;" onsubmit="return oQuickModify.bInEditMode ? oQuickModify.modifySave('33da008cab691e6182123083c748a8ea', 'b1e25f91e') : false">
				<div class="windowbg">
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=167256" title="View the profile of bmplabs" class="pm_icon">bmplabs</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=167256"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_bmplabs"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 8</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=167256;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1113621" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1113621#msg1113621" rel="nofollow">Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1113621#msg1113621" rel="nofollow" title=" - Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 10:16 am</a>
									<span class="smalltext modified" id="modified_1113621"></span>
								</h5>
								<div id="msg_1113621_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1113621">Hi everyone! This is my 
first post after spending hours searching for my answer without success.
 I've only completed some pretty simple projects with the Arduino and 
I'm trying to get to the next level--you know, from infant to toddler.<br><br>Below is working code for my DHT22 Temperature &amp; Humidity sensor:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: 200px;" class="bbc_code">// <br>//&nbsp; &nbsp;FILE:&nbsp; dht_test.pde<br>// PURPOSE: DHT library test sketch for Arduino<br>// BY: Rob Tillaart http://playground.arduino.cc/Main/DHTLib<br><br>#include &lt;dht.h&gt;<br><br>dht DHT;<br><br>#define DHT11_PIN 4<br>#define DHT22_PIN 5<br><br>void setup()<br>{<br>&nbsp; Serial.begin(115200);<br>&nbsp; Serial.println("DHT TEST PROGRAM ");<br>&nbsp; Serial.print("LIBRARY VERSION: ");<br>&nbsp; Serial.println(DHT_LIB_VERSION);<br>&nbsp; Serial.println();<br>&nbsp; Serial.println("Type,\tstatus,\tHumidity (%),\tTemperature (C)");<br>}<br><br>void loop()<br>{<br>&nbsp; // READ DATA<br>&nbsp; Serial.print("DHT22, \t");<br>&nbsp; int chk = DHT.read22(DHT22_PIN);<br>&nbsp; switch (chk)<br>&nbsp; {<br>&nbsp; &nbsp; case DHTLIB_OK:&nbsp; <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("OK,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case DHTLIB_ERROR_CHECKSUM: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Checksum error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case DHTLIB_ERROR_TIMEOUT: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Time out error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; default: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Unknown error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; }<br>&nbsp; // DISPLAY DATA<br>&nbsp; Serial.print(DHT.humidity, 1);<br>&nbsp; Serial.print(",\t");<br>&nbsp; Serial.println(DHT.temperature, 1);<br><br>&nbsp; delay(1000);<br><br>&nbsp; // READ DATA<br>&nbsp; Serial.print("DHT11, \t");<br>&nbsp; chk = DHT.read11(DHT11_PIN);<br>&nbsp; switch (chk)<br>&nbsp; {<br>&nbsp; &nbsp; case DHTLIB_OK:&nbsp; <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("OK,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case DHTLIB_ERROR_CHECKSUM: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Checksum error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case DHTLIB_ERROR_TIMEOUT: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Time out error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; default: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Unknown error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; }<br> // DISPLAT DATA<br>&nbsp; Serial.print(DHT.humidity,1);<br>&nbsp; Serial.print(",\t");<br>&nbsp; Serial.println(DHT.temperature,1);<br><br>&nbsp; delay(1000);<br>}<br>//<br>// END OF FILE<br>//</code></pre><br><br>And here is the sample code for the MuxShield by MayhewLabs http://mayhewlabs.com/products/arduino-mux-shield<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: 200px;" class="bbc_code">//Mux_Shield_DigitalIn_Example<br>//http://mayhewlabs.com/arduino-mux-shield<br><br>/*<br>This example shows how to read and store all pins as digital inputs into arrays and print the results over serial.<br>Switches should be connected from ground to the pin input.<br>Internal pull-up resistors are used on the inputs, so when a switch is depressed, the reading<br>changes from 1 to 0, but to correct this logic, the digitalRead function is corrected with '!' <br>to actually store a 1 when a switch is depressed.<br><br>To simplify this code further, one might use nested for loops or function calls.<br>*/<br><br>//Give convenient names to the control pins<br>#define CONTROL0 5&nbsp; &nbsp; <br>#define CONTROL1 4<br>#define CONTROL2 3<br>#define CONTROL3 2<br><br>//Create arrays for data from the the MUXs<br>//See the Arduino Array Reference: http://www.arduino.cc/en/Reference/Array<br>int mux0array[16];<br>int mux1array[16];<br>int mux2array[16];<br><br>void setup()<br>{<br>&nbsp; //Set MUX control pins to output<br>&nbsp; pinMode(CONTROL0, OUTPUT);<br>&nbsp; pinMode(CONTROL1, OUTPUT);<br>&nbsp; pinMode(CONTROL2, OUTPUT);<br>&nbsp; pinMode(CONTROL3, OUTPUT);<br>&nbsp; <br>&nbsp; //Open the serial port at 28800 bps<br>&nbsp; Serial.begin(28800);<br>&nbsp; <br>&nbsp; //Set analog pins to digital input&nbsp; <br>&nbsp; pinMode(14, INPUT);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; pinMode(15, INPUT);<br>&nbsp; pinMode(16, INPUT);<br>&nbsp; <br>&nbsp; //Turn on pullup resistors<br>&nbsp; digitalWrite(14, HIGH);&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; digitalWrite(15, HIGH);<br>&nbsp; digitalWrite(16, HIGH);<br>}<br>&nbsp; <br><br>void loop()<br>{<br>&nbsp; //This for loop is used to scroll through and store the 16 inputs on the FIRST multiplexer<br>&nbsp; for (int i=0; i&lt;16; i++)<br>&nbsp; {<br>&nbsp; &nbsp; //The following 4 commands set the correct logic for the control pins to select the desired input<br>&nbsp; &nbsp; //See the Arduino Bitwise AND Reference: http://www.arduino.cc/en/Reference/BitwiseAnd<br>&nbsp; &nbsp; //See the Aruino Bitshift Reference: http://www.arduino.cc/en/Reference/Bitshift<br>&nbsp; &nbsp; digitalWrite(CONTROL0, (i&amp;15)&gt;&gt;3); <br>&nbsp; &nbsp; digitalWrite(CONTROL1, (i&amp;7)&gt;&gt;2);&nbsp; <br>&nbsp; &nbsp; digitalWrite(CONTROL2, (i&amp;3)&gt;&gt;1);&nbsp; <br>&nbsp; &nbsp; digitalWrite(CONTROL3, (i&amp;1));&nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; //Read and store the input<br>&nbsp; &nbsp; //Since internal pullup is on, the pin goes low on changing, so the value needs to be flipped from 0 to 1 (!)<br>&nbsp; &nbsp; mux0array[i] = !digitalRead(14);<br>&nbsp; }<br>&nbsp; <br>&nbsp; //This for loop is used to scroll through the SECOND multiplexer<br>&nbsp; for (int i=0; i&lt;16; i++)<br>&nbsp; {<br>&nbsp; &nbsp; digitalWrite(CONTROL0, (i&amp;15)&gt;&gt;3); <br>&nbsp; &nbsp; digitalWrite(CONTROL1, (i&amp;7)&gt;&gt;2);&nbsp; <br>&nbsp; &nbsp; digitalWrite(CONTROL2, (i&amp;3)&gt;&gt;1);&nbsp; <br>&nbsp; &nbsp; digitalWrite(CONTROL3, (i&amp;1));&nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; mux1array[i] = !digitalRead(15);<br>&nbsp; }<br>&nbsp; <br>&nbsp; //This for loop is used to scroll through the THIRD multiplexer<br>&nbsp; for (int i=0; i&lt;16; i++)<br>&nbsp; {<br>&nbsp; &nbsp; digitalWrite(CONTROL0, (i&amp;15)&gt;&gt;3); <br>&nbsp; &nbsp; digitalWrite(CONTROL1, (i&amp;7)&gt;&gt;2);&nbsp; <br>&nbsp; &nbsp; digitalWrite(CONTROL2, (i&amp;3)&gt;&gt;1);&nbsp; <br>&nbsp; &nbsp; digitalWrite(CONTROL3, (i&amp;1));&nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; mux2array[i] = !digitalRead(16);<br>&nbsp; }&nbsp; &nbsp; <br>&nbsp; <br>&nbsp; //The following lines are for printing out results of array0<br>&nbsp; Serial.print("mux0array: ");<br>&nbsp; for (int i=0; i&lt;16; i++)<br>&nbsp; {<br>&nbsp; &nbsp; Serial.print(mux0array[i]);<br>&nbsp; &nbsp; Serial.print("-");<br>&nbsp; }<br>&nbsp; Serial.println();&nbsp; //line feed<br>&nbsp; <br>&nbsp; //The following lines are for printing out results of array1<br>&nbsp; Serial.print("mux1array: ");<br>&nbsp; for (int i=0; i&lt;16; i++)<br>&nbsp; {<br>&nbsp; &nbsp; Serial.print(mux1array[i]);<br>&nbsp; &nbsp; Serial.print("-");<br>&nbsp; }<br>&nbsp; Serial.println();<br>&nbsp; <br>&nbsp; //The following lines are for printing out results of array2<br>&nbsp; Serial.print("mux2array: ");<br>&nbsp; for (int i=0; i&lt;16; i++)<br>&nbsp; {<br>&nbsp; &nbsp; Serial.print(mux2array[i]);<br>&nbsp; &nbsp; Serial.print("-");<br>&nbsp; }<br>&nbsp; Serial.println();<br>}</code></pre><br><br>I'm
 stuck at trying to adapt the DHT22 code to read the muxshield. I had 
the sensor plugged in, the code--what I thought--correct, and the sensor
 in mux0array[0] and I wasn't receiving anything. I have not been able 
to find any simple code examples integrating sensors with the mux 
shield. I'm hoping to grasp how the muxshield works so I'll be able to 
adapt many sensors to the mux. Any help will be greatly appreciated.<br><br>Thanks!!</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1114157"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=58299" title="View the profile of Dr_Ugi" class="pm_icon">Dr_Ugi</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=58299"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_Dr_Ugi"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"></li>
								<li class="postgroup">Full Member</li>
								<li class="postcount">Posts: 181</li>
								<li class="custom karma">Karma: 6&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=58299;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
								<li class="blurb">Ugi was not declared in this scope</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114157" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114157#msg1114157" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #1 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114157#msg1114157" rel="nofollow" title="Reply #1 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 05:57 pm</a>
									<span class="smalltext modified" id="modified_1114157"></span>
								</h5>
								<div id="msg_1114157_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114157">I don't remember the details
 of communication with the DHT22 but It's a one-wire digital 
communication, which is not going to be easy to multiplex!&nbsp; I 
remember reading a comment (by Lady Ada I think, who knows her stuff) 
that the timing of the interface is relatively difficult.<br><br>I 
expect that it can be done, but I don't think the DHT22 is a very good 
choice as a first sensor for using with a multiplexer. Assuming that you
 can read switches etc OK then you might rather use a TMP36 or similar 
analogue device if you want to read temperature as a first project using
 the multiplexer.<br><br>Ugi</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1114359"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=167256" title="View the profile of bmplabs" class="pm_icon">bmplabs</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=167256"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_bmplabs"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 8</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=167256;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114359" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114359#msg1114359" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #2 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114359#msg1114359" rel="nofollow" title="Reply #2 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 07:54 pm</a>
									<span class="smalltext modified" id="modified_1114359"></span>
								</h5>
								<div id="msg_1114359_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114359">Thanks for the reply Ugi! I 
guess I should of researched how the multiplexer worked before buying 
it--figured it was simple since it just says expands i/o of arduino.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1114387"></a><a id="new"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=22951" title="View the profile of robtillaart" class="pm_icon">robtillaart</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=22951"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_robtillaart"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"></li>
								<li class="membergroup">Global Moderator</li>
								<li class="postgroup">Brattain Member</li>
								<li class="postcount">Posts: 17,957</li>
								<li class="custom karma">Karma: 580&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=22951;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
								<li class="blurb">In theory there is no difference between theory and practice, however in practice there are many...</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114387" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114387#msg1114387" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #3 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114387#msg1114387" rel="nofollow" title="Reply #3 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 08:08 pm</a>
									<span class="smalltext modified" id="modified_1114387"></span>
								</h5>
								<div id="msg_1114387_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114387">The DHT22 timing in my library is time critical. If an ISR happens while bits are clocked in communication can/will fail. <br><br>That
 said, I see no reason why it cannot be communicated over the 
mux-shield. It seems not too difficult as the library only needs small 
modifications.<br>I assume the mux shield does not affect the timing significantly.<br>I assume the mux shield does not invert the signal otherwise you need to add some ! to invert)<br><br>The
 following code is not tested, it is about how I would start. Nothing 
changed on the code only the&nbsp; mux- channel selection is added.<br><br>The mux-ified DHT.cpp &nbsp; (timing values might need to be adjusted)<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: 200px;" class="bbc_code"><br>// assume the multiplexer is connected to Arduino pin 14, you need to add the mux channel in the DHT lib read function<br>// so you call it something like DHT.read22(14, 5);<br><br>//<br>// &nbsp; &nbsp;FILE: dht.cpp<br>// VERSION: 0.1.05<br>// PURPOSE: DHT Temperature &amp; Humidity Sensor library for Arduino<br>//<br>// DATASHEET: <br>//<br>// HISTORY:<br>// 0.1.05 fixed negative temperature bug (thanks to Roseman)<br>// 0.1.04 improved readability of code using DHTLIB_OK in code<br>// 0.1.03 added error values for temp and humidity when read failed<br>// 0.1.02 added error codes<br>// 0.1.01 added support for Arduino 1.0, fixed typos (31/12/2011)<br>// 0.1.0 by Rob Tillaart (01/04/2011)<br>// inspired by DHT11 library<br>//<br><br>#include "dht.h"<br><br>#define TIMEOUT 10000<br><br>/////////////////////////////////////////////////////<br>//<br>// PUBLIC<br>//<br><br><br>// return values:<br>// DHTLIB_OK<br>// DHTLIB_ERROR_CHECKSUM<br>// DHTLIB_ERROR_TIMEOUT<br>#include "dht.h"<br><br>#define TIMEOUT 10000<br><br>/////////////////////////////////////////////////////<br>//<br>// PUBLIC<br>//<br><br><br>// return values:<br>// DHTLIB_OK<br>// DHTLIB_ERROR_CHECKSUM<br>// DHTLIB_ERROR_TIMEOUT<br>int dht::read11(uint8_t pin, int channel)<br>{<br> &nbsp; &nbsp; &nbsp; &nbsp;// READ VALUES<br> &nbsp; &nbsp; &nbsp; &nbsp;int rv = read(pin, channel);<br> &nbsp; &nbsp; &nbsp; &nbsp;if (rv != DHTLIB_OK)<br> &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;humidity &nbsp; &nbsp;= DHTLIB_INVALID_VALUE; // or is NaN prefered?<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;temperature = DHTLIB_INVALID_VALUE; <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return rv;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// CONVERT AND STORE<br> &nbsp; &nbsp; &nbsp; &nbsp;humidity &nbsp; &nbsp;= bits[0]; &nbsp;// bit[1] == 0;<br> &nbsp; &nbsp; &nbsp; &nbsp;temperature = bits[2]; &nbsp;// bits[3] == 0;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// TEST CHECKSUM<br> &nbsp; &nbsp; &nbsp; &nbsp;uint8_t sum = bits[0] + bits[2]; // bits[1] &amp;&amp; bits[3] both 0<br> &nbsp; &nbsp; &nbsp; &nbsp;if (bits[4] != sum) return DHTLIB_ERROR_CHECKSUM;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;return DHTLIB_OK;<br>}<br><br>// return values:<br>// DHTLIB_OK<br>// DHTLIB_ERROR_CHECKSUM<br>// DHTLIB_ERROR_TIMEOUT<br>int dht::read22(uint8_t pin, int channel)<br>{<br> &nbsp; &nbsp; &nbsp; &nbsp;// READ VALUES<br> &nbsp; &nbsp; &nbsp; &nbsp;int rv = read(pin, channel);<br> &nbsp; &nbsp; &nbsp; &nbsp;if (rv != DHTLIB_OK)<br> &nbsp; &nbsp; &nbsp; {<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;humidity &nbsp; 
&nbsp;= DHTLIB_INVALID_VALUE; &nbsp;// invalid value, or is NaN 
prefered?<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;temperature = DHTLIB_INVALID_VALUE; &nbsp;// invalid value<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return rv;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// CONVERT AND STORE<br> &nbsp; &nbsp; &nbsp; &nbsp;humidity &nbsp; &nbsp;= word(bits[0], bits[1]) * 0.1;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;if (bits[2] &amp; 0x80) // negative temperature<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp;temperature = word(bits[2]&amp;0x7F, bits[3]) * 0.1;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;temperature *= -1.0;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;else<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;temperature = word(bits[2], bits[3]) * 0.1;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// TEST CHECKSUM<br> &nbsp; &nbsp; &nbsp; &nbsp;uint8_t sum = bits[0] + bits[1] + bits[2] + bits[3];<br> &nbsp; &nbsp; &nbsp; &nbsp;if (bits[4] != sum) return DHTLIB_ERROR_CHECKSUM;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;return DHTLIB_OK;<br>}<br><br><br>int dht::read(int pin, int channel)<br>{<br> &nbsp;digitalWrite(CONTROL0, channel &amp; 15); <br> &nbsp;digitalWrite(CONTROL1, channel &amp; 7); &nbsp;<br> &nbsp;digitalWrite(CONTROL2, channel &amp; 3); &nbsp;<br> &nbsp;digitalWrite(CONTROL3, channel &amp; 1); <br><br> &nbsp; &nbsp; &nbsp; &nbsp;// INIT BUFFERVAR TO RECEIVE DATA<br> &nbsp; &nbsp; &nbsp; &nbsp;uint8_t cnt = 7;<br> &nbsp; &nbsp; &nbsp; &nbsp;uint8_t idx = 0;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// EMPTY BUFFER<br> &nbsp; &nbsp; &nbsp; &nbsp;for (int i=0; i&lt; 5; i++) bits[i] = 0;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// REQUEST SAMPLE<br> &nbsp; &nbsp; &nbsp; &nbsp;pinMode(pin, OUTPUT);<br> &nbsp; &nbsp; &nbsp; &nbsp;digitalWrite(pin, LOW);<br> &nbsp; &nbsp; &nbsp; &nbsp;delay(20); <br> &nbsp; &nbsp; &nbsp; &nbsp;digitalWrite(pin, HIGH);<br> &nbsp; &nbsp; &nbsp; &nbsp;delayMicroseconds(40);<br> &nbsp; &nbsp; &nbsp; &nbsp;pinMode(pin, INPUT);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// GET ACKNOWLEDGE or TIMEOUT<br> &nbsp; &nbsp; &nbsp; &nbsp;unsigned int loopCnt = TIMEOUT;<br> &nbsp; &nbsp; &nbsp; &nbsp;while(digitalRead(pin) == LOW)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (loopCnt-- == 0) return DHTLIB_ERROR_TIMEOUT;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;loopCnt = TIMEOUT;<br> &nbsp; &nbsp; &nbsp; &nbsp;while(digitalRead(pin) == HIGH)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (loopCnt-- == 0) return DHTLIB_ERROR_TIMEOUT;<br><br> &nbsp; &nbsp; &nbsp; &nbsp;// READ THE OUTPUT - 40 BITS =&gt; 5 BYTES<br> &nbsp; &nbsp; &nbsp; &nbsp;for (int i=0; i&lt;40; i++)<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loopCnt = TIMEOUT;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;while(digitalRead(pin) == LOW)<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp;if (loopCnt-- == 0) return DHTLIB_ERROR_TIMEOUT;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;unsigned long t = micros();<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;loopCnt = TIMEOUT;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;while(digitalRead(pin) == HIGH)<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp;if (loopCnt-- == 0) return DHTLIB_ERROR_TIMEOUT;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if ((micros() - t) &gt; 40) bits[idx] |= (1 &lt;&lt; cnt);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (cnt == 0) &nbsp; // next byte?<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cnt = 7; &nbsp; <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;idx++; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else cnt--;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp;return DHTLIB_OK;<br>}<br></code></pre><br><br>dht.h file<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: 200px;" class="bbc_code"><br>// <br>// &nbsp; &nbsp;FILE: dht.h<br>// VERSION: 0.1.05<br>// PURPOSE: DHT Temperature &amp; Humidity Sensor library for Arduino<br>//<br>// &nbsp; &nbsp; URL: http://arduino.cc/playground/Main/DHTLib<br>//<br>// HISTORY:<br>// see dht.cpp file<br>// <br><br>#ifndef dht_h<br>#define dht_h<br><br>#if ARDUINO &lt; 100<br>#include &lt;WProgram.h&gt;<br>#else<br>#include &lt;Arduino.h&gt;<br>#endif<br><br>#define DHT_LIB_VERSION "0.1.05"<br><br>#define DHTLIB_OK &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br>#define DHTLIB_ERROR_CHECKSUM &nbsp; -1<br>#define DHTLIB_ERROR_TIMEOUT &nbsp; &nbsp;-2<br>#define DHTLIB_INVALID_VALUE &nbsp; &nbsp;-999<br><br>class dht<br>{<br>public:<br> &nbsp; &nbsp; &nbsp; &nbsp;int read11(uint8_t pin, uint8_t channel);<br> &nbsp; &nbsp;int read22(uint8_t pin, uint8_t channel);<br> &nbsp; &nbsp; &nbsp; &nbsp;double humidity;<br> &nbsp; &nbsp; &nbsp; &nbsp;double temperature;<br><br>private:<br> &nbsp; &nbsp; &nbsp; &nbsp;uint8_t bits[5]; &nbsp;// buffer to receive data<br> &nbsp; &nbsp; &nbsp; &nbsp;int read(uint8_t pin, uint8_t channel);<br>};<br>#endif<br>//<br>// END OF FILE<br>//<br></code></pre><br><br>Let me know if it works!<br></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1114387_signature">Rob Tillaart<br><br>Nederlandse sectie - http://arduino.cc/forum/index.php/board,77.0.html -<br>(Please do not PM for private consultancy)</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1114402"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=22951" title="View the profile of robtillaart" class="pm_icon">robtillaart</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=22951"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_robtillaart"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"></li>
								<li class="membergroup">Global Moderator</li>
								<li class="postgroup">Brattain Member</li>
								<li class="postcount">Posts: 17,957</li>
								<li class="custom karma">Karma: 580&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=22951;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
								<li class="blurb">In theory there is no difference between theory and practice, however in practice there are many...</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114402" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114402#msg1114402" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #4 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114402#msg1114402" rel="nofollow" title="Reply #4 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 08:17 pm</a>
									<span class="smalltext modified" id="modified_1114402"></span>
								</h5>
								<div id="msg_1114402_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114402">Added a link on the lib page - http://playground.arduino.cc//Main/DHTLib - to this discussion</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1114402_signature">Rob Tillaart<br><br>Nederlandse sectie - http://arduino.cc/forum/index.php/board,77.0.html -<br>(Please do not PM for private consultancy)</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1114447"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=167256" title="View the profile of bmplabs" class="pm_icon">bmplabs</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=167256"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_bmplabs"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 8</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=167256;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114447" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114447#msg1114447" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #5 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114447#msg1114447" rel="nofollow" title="Reply #5 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 08:38 pm</a>
									<span class="smalltext modified" id="modified_1114447"></span>
								</h5>
								<div id="msg_1114447_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114447"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114387#msg1114387">Quote from: robtillaart on Feb 11, 2013, 08:08 pm</a></div><blockquote class="bbc_standard_quote"><br>The DHT22 timing in my library is time critical. If an ISR happens while bits are clocked in communication can/will fail. <br><br>That
 said, I see no reason why it cannot be communicated over the 
mux-shield. It seems not too difficult as the library only needs small 
modifications.<br>I assume the mux shield does not affect the timing significantly.<br>I assume the mux shield does not invert the signal otherwise you need to add some ! to invert)<br><br>The
 following code is not tested, it is about how I would start. Nothing 
changed on the code only the&nbsp; mux- channel selection is added.<br><br>Let me know if it works!<br><br></blockquote><div class="quotefooter"></div><br><br>First
 off, Rob, thank you for replying and thanks for contributing the 
library! It's you guys that make us guys, the absolute newbs, have way 
too much fun with the arduino.<br><br>Quick question: In my sketch, I'll need to pass the channel parameter to read22, right?<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code"><br>#define DHT22_PIN 5<br>#define DHT22_CHANNEL 0<br></code></pre><br><br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">&nbsp; int chk = DHT.read22(DHT22_PIN, DHT22_CHANNEL);</code></pre><br><br><br>For channel 0?</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1114501"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=22951" title="View the profile of robtillaart" class="pm_icon">robtillaart</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=22951"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_robtillaart"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"></li>
								<li class="membergroup">Global Moderator</li>
								<li class="postgroup">Brattain Member</li>
								<li class="postcount">Posts: 17,957</li>
								<li class="custom karma">Karma: 580&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=22951;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
								<li class="blurb">In theory there is no difference between theory and practice, however in practice there are many...</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114501" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114501#msg1114501" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #6 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114501#msg1114501" rel="nofollow" title="Reply #6 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 09:04 pm</a>
									<span class="smalltext modified" id="modified_1114501"></span>
								</h5>
								<div id="msg_1114501_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114501">yes, looks perfect<br><br>If you could connect multiple DHT22 sensors to 1 arduino pin you could use an array.<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">#define DHT22_PIN 5<br>uint8_t channel[5] =&nbsp; { 0,4,5,6,10 };<br>int chk = DHT.read22(DHT22_PIN, channel[idx] );</code></pre><br><br>(and, .... does it work?)</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1114501_signature">Rob Tillaart<br><br>Nederlandse sectie - http://arduino.cc/forum/index.php/board,77.0.html -<br>(Please do not PM for private consultancy)</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1114507"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=167256" title="View the profile of bmplabs" class="pm_icon">bmplabs</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=167256"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_bmplabs"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 8</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=167256;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114507" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114507#msg1114507" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #7 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114507#msg1114507" rel="nofollow" title="Reply #7 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 09:08 pm</a>
									<span class="smalltext modified" id="modified_1114507"></span>
								</h5>
								<div id="msg_1114507_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114507"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114402#msg1114402">Quote from: robtillaart on Feb 11, 2013, 08:17 pm</a></div><blockquote class="bbc_standard_quote"><br>Added a link on the lib page - http://playground.arduino.cc//Main/DHTLib - to this discussion<br></blockquote><div class="quotefooter"></div><br><br>You have this in your .cpp:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">int dht::read22(uint8_t pin, int channel)</code></pre><br><br>and this in you .h:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">int read22(uint8_t pin, uint8_t channel);</code></pre><br><br>I was getting a compile error, I changed them all to <div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">uint8_t</code></pre><br><br>But now I'm getting another compile error:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code"><br>....Arduino/libraries/dht/dht.cpp: In member function 'int dht::read(uint8_t, uint8_t)':<br>....Arduino/libraries/dht/dht.cpp:109: error: 'CONTROL0' was not declared in this scope<br>....Arduino/libraries/dht/dht.cpp:110: error: 'CONTROL1' was not declared in this scope<br>....Arduino/libraries/dht/dht.cpp:111: error: 'CONTROL2' was not declared in this scope<br>....Arduino/libraries/dht/dht.cpp:112: error: 'CONTROL3' was not declared in this scope<br></code></pre><br><br>I added the following to the cpp in public scope line 39<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code"><br>//Give convenient names to the control pins<br>#define CONTROL0 5 &nbsp; &nbsp;<br>#define CONTROL1 4<br>#define CONTROL2 3<br>#define CONTROL3 2<br></code></pre><br><br>With the sensor connected to Channel 0 Pin 5, I'm getting a timeout and values of -999.9 displayed.<br><br>No work,... yet.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1114526"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=22951" title="View the profile of robtillaart" class="pm_icon">robtillaart</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=22951"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_robtillaart"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"></li>
								<li class="membergroup">Global Moderator</li>
								<li class="postgroup">Brattain Member</li>
								<li class="postcount">Posts: 17,957</li>
								<li class="custom karma">Karma: 580&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=22951;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
								<li class="blurb">In theory there is no difference between theory and practice, however in practice there are many...</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114526" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114526#msg1114526" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #8 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114526#msg1114526" rel="nofollow" title="Reply #8 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 09:23 pm</a>
									<span class="smalltext modified" id="modified_1114526"></span>
								</h5>
								<div id="msg_1114526_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114526">Thanks for fixing some 'shortcuts' I took in the code. Well resolved.<br>first the sensor needs 2 seconds between read operations.<br><br>The value of -999 indicates INVALID_VALUE that's OK for now. <br><br>The time out can be generated in a number of places. <br>You need to patch the code so that all time-out give a different error e.g. -10 -20 -30 -40&nbsp; <br>This way you can localize which time-out fails, that gives an indication where to patch the timing.<br><br>Do you have a capacitor connected to the DHT22 - see datasheet attached - ?</div>
							</div>
							<div id="msg_1114526_footer" class="attachments">
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="http://forum.arduino.cc/index.php?action=dlattach;topic=148206.0;attach=35875"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/clip.png" class="centericon" alt="*">&nbsp;temp humidity -DHT22.pdf</a> 
											<br>371.28 KB<br>downloaded 191 times
										</div>
									</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1114526_signature">Rob Tillaart<br><br>Nederlandse sectie - http://arduino.cc/forum/index.php/board,77.0.html -<br>(Please do not PM for private consultancy)</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1114576"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=167256" title="View the profile of bmplabs" class="pm_icon">bmplabs</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=167256"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_bmplabs"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 8</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=167256;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114576" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114576#msg1114576" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #9 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114576#msg1114576" rel="nofollow" title="Reply #9 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 09:56 pm</a>
									<span class="smalltext modified" id="modified_1114576"></span>
								</h5>
								<div id="msg_1114576_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114576"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114526#msg1114526">Quote from: robtillaart on Feb 11, 2013, 09:23 pm</a></div><blockquote class="bbc_standard_quote"><br><br>You need to patch the code so that all time-out give a different error e.g. -10 -20 -30 -40&nbsp; <br><br>Do you have a capacitor connected to the DHT22 - see datasheet attached - ?<br></blockquote><div class="quotefooter"></div><br><br>I do not have the capacitor connected and will have to run to the electronics store for that.<br><br>On another note, to patch the code for more specific error codes, how?<br><br>I'm getting the error:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">dht_multiplexed.ino: In function 'void loop()':<br>dht_multiplexed:39: error: 'AHTLIB_ERROR_TIMEOUT' was not declared in this scope<br>dht_multiplexed:45: error: duplicate case value<br>dht_multiplexed:42: error: previously used here<br>dht_multiplexed:48: error: duplicate case value<br>dht_multiplexed:42: error: previously used here</code></pre><br><br>What I did:<br>cpp<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: 200px;" class="bbc_code">// GET ACKNOWLEDGE or TIMEOUT<br>&nbsp; &nbsp; &nbsp; &nbsp; unsigned int loopCnt = TIMEOUT;<br>&nbsp; &nbsp; &nbsp; &nbsp; while(digitalRead(pin) == LOW)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (loopCnt-- == 0) return ADHTLIB_ERROR_TIMEOUT;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; loopCnt = TIMEOUT;<br>&nbsp; &nbsp; &nbsp; &nbsp; while(digitalRead(pin) == HIGH)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (loopCnt-- == 0) return BDHTLIB_ERROR_TIMEOUT;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; // READ THE OUTPUT - 40 BITS =&gt; 5 BYTES<br>&nbsp; &nbsp; &nbsp; &nbsp; for (int i=0; i&lt;40; i++)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; loopCnt = TIMEOUT;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while(digitalRead(pin) == LOW)<br>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; if (loopCnt-- == 0) return CDHTLIB_ERROR_TIMEOUT;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unsigned long t = micros();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; loopCnt = TIMEOUT;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while(digitalRead(pin) == HIGH)<br>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; if (loopCnt-- == 0) return DDHTLIB_ERROR_TIMEOUT;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((micros() - t) &gt; 40) bits[idx] |= (1 &lt;&lt; cnt);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (cnt == 0)&nbsp; &nbsp;// next byte?<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cnt = 7;&nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; idx++;&nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else cnt--;<br>&nbsp; &nbsp; &nbsp; &nbsp; }</code></pre><br><br>.h<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">#define
 DHTLIB_OK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br>#define DHTLIB_ERROR_CHECKSUM&nbsp; &nbsp;-1<br>#define ADHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -2<br>#define BDHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -2<br>#define CDHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -2<br>#define DDHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -2<br>#define DHTLIB_INVALID_VALUE&nbsp; &nbsp; -999</code></pre><br><br>pde<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: 200px;" class="bbc_code"> switch (chk)<br>&nbsp; {<br>&nbsp; &nbsp; case DHTLIB_OK:&nbsp; <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("OK,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case DHTLIB_ERROR_CHECKSUM: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Checksum error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case ADHTLIB_ERROR_TIMEOUT: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Time out error A,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case BDHTLIB_ERROR_TIMEOUT: <br>&nbsp; &nbsp; <span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Time out error B,\t"); <br>&nbsp; &nbsp; <span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case CDHTLIB_ERROR_TIMEOUT: <br>&nbsp; &nbsp; <span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Time out error C,\t"); <br>&nbsp; &nbsp; <span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; case DDHTLIB_ERROR_TIMEOUT: <br>&nbsp; &nbsp; <span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Time out error D,\t"); <br>&nbsp; &nbsp; <span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; &nbsp; default: <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>Serial.print("Unknown error,\t"); <br><span style="white-space: pre;">	</span><span style="white-space: pre;">	</span>break;<br>&nbsp; }</code></pre></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1114620"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=167256" title="View the profile of bmplabs" class="pm_icon">bmplabs</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=167256"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_bmplabs"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 8</li>
								<li class="custom karma">Karma: 0&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=167256;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1114620" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1114620#msg1114620" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #10 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1114620#msg1114620" rel="nofollow" title="Reply #10 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 11, 2013, 10:11 pm</a>
									<span class="smalltext modified" id="modified_1114620"></span>
								</h5>
								<div id="msg_1114620_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1114620">Works!!! While going through my code I realized that the line:<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">int chk = DHT.read22(DHT22_PIN,DHT22_CHANNEL);</code></pre><br><br>was:<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code">&nbsp; int chk = DHT.read22(DHT22_PIN,0);</code></pre><br><br>-- I must of changed it at some point trying to debug. I need to start using version control on my arduino sketches.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1115140"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=22951" title="View the profile of robtillaart" class="pm_icon">robtillaart</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=22951"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_robtillaart"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"></li>
								<li class="membergroup">Global Moderator</li>
								<li class="postgroup">Brattain Member</li>
								<li class="postcount">Posts: 17,957</li>
								<li class="custom karma">Karma: 580&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=22951;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
								<li class="blurb">In theory there is no difference between theory and practice, however in practice there are many...</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1115140" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1115140#msg1115140" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #11 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1115140#msg1115140" rel="nofollow" title="Reply #11 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 12, 2013, 06:53 am</a>
									<span class="smalltext modified" id="modified_1115140"></span>
								</h5>
								<div id="msg_1115140_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1115140">I meant this way!<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><pre style="margin: 0; padding: 0;"><code style="max-height: none; height: auto;" class="bbc_code"><br>#define
 DHTLIB_OK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0<br>#define DHTLIB_ERROR_CHECKSUM&nbsp; &nbsp;-1<br>#define ADHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -21<br>#define BDHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -22<br>#define CDHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -23<br>#define DDHTLIB_ERROR_TIMEOUT&nbsp; &nbsp; -24<br>#define DHTLIB_INVALID_VALUE&nbsp; &nbsp; -999<br></code></pre></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1115140_signature">Rob Tillaart<br><br>Nederlandse sectie - http://arduino.cc/forum/index.php/board,77.0.html -<br>(Please do not PM for private consultancy)</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1115142"></a>
					<div class="post_wrapper">
						<div class="poster">
							<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=22951" title="View the profile of robtillaart" class="pm_icon">robtillaart</a>
							</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=22951"><img class="avatar" src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/default.png" alt="avatar_robtillaart"></a>
								</li>
								<li class="icons"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"><img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/stargmod.gif" alt="*"></li>
								<li class="membergroup">Global Moderator</li>
								<li class="postgroup">Brattain Member</li>
								<li class="postcount">Posts: 17,957</li>
								<li class="custom karma">Karma: 580&nbsp;&nbsp;<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=22951;b1e25f91e=33da008cab691e6182123083c748a8ea">[add]</a></li>
								<li class="blurb">In theory there is no difference between theory and practice, however in practice there are many...</li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/xx.png" alt="">
								</div>
								<div id="subject_1115142" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=148206.msg1115142#msg1115142" rel="nofollow">Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3</a></div>
								<div class="page_number floatright">
									 #12 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=148206.msg1115142#msg1115142" rel="nofollow" title="Reply #12 - Re: Mux Shield and DHT22 Temperature Sensor - UNO Rv3" class="smalltext">Feb 12, 2013, 06:55 am</a>
									<span class="smalltext modified" id="modified_1115142"></span>
								</h5>
								<div id="msg_1115142_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1115142">Good to hear it works now! <br><br>Can you post your final code for future references? <br>lib.cpp lib.h and test sketch? <br><br>thanks,<br></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1115142_signature">Rob Tillaart<br><br>Nederlandse sectie - http://arduino.cc/forum/index.php/board,77.0.html -<br>(Please do not PM for private consultancy)</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				</form>
			</div>
			<div class="pagesection">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="http://forum.arduino.cc/index.php?action=printpage;topic=148206.0" rel="nofollow">Print</a>
		</div>
				 <a href="#main_content_section" class="topbottom floatleft" id="bot">Go Up</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><span class="current_page">[1]</span> 
				</div>
			</div>
			<div id="moderationbuttons">
				
			</div>
			<div id="display_jump_to"><label class="smalltext" for="display_jump_to_select">Jump to:</label> <select name="display_jump_to_select" id="display_jump_to_select" onfocus="grabJumpToContent(this);"><option selected="selected" value="?board=3.0">=&gt; Project Guidance</option></select>&nbsp;<input class="button_submit" value="Go" onclick="window.location.href = 'http://forum.arduino.cc/index.php?board=3.0';" type="button"></div>
			<br class="clear">
				<script><!-- // --><![CDATA[
					var oQuickReply = new QuickReply({
						bDefaultCollapsed: false,
						iTopicId: 148206,
						iStart: 0,
						sScriptUrl: smf_scripturl,
						sImagesUrl: smf_images_url,
						sContainerId: "quickReplyOptions",
						sImageId: "quickReplyExpand",
						sClassCollapsed: "toggle_up",
						sClassExpanded: "toggle_down",
						bIsFull: true
					});
					if ('XMLHttpRequest' in window)
					{
						var oQuickModify = new QuickModify({
							sScriptUrl: smf_scripturl,
							sClassName: 'quick_edit',
							bShowModify: true,
							iTopicId: 148206,
							sTemplateBodyEdit: '\n\t\t\t\t\t\t\t\t<div 
id="quick_edit_body_container">\n\t\t\t\t\t\t\t\t\t<div id="error_box" 
class="error"><' + '/div>\n\t\t\t\t\t\t\t\t\t<textarea class="editor" 
name="message" rows="12" style="width: 100%; margin-bottom: 10px;" 
tabindex="1">%body%<' + '/textarea><br>\n\t\t\t\t\t\t\t\t\t<input 
type="hidden" name="b1e25f91e" 
value="33da008cab691e6182123083c748a8ea">\n\t\t\t\t\t\t\t\t\t<input 
type="hidden" name="topic" value="148206">\n\t\t\t\t\t\t\t\t\t<input 
type="hidden" name="msg" value="%msg_id%">\n\t\t\t\t\t\t\t\t\t<div 
class="righttext">\n\t\t\t\t\t\t\t\t\t\t<input type="submit" name="post"
 value="Save" tabindex="2" onclick="return 
oQuickModify.modifySave(\'33da008cab691e6182123083c748a8ea\', 
\'b1e25f91e\');" accesskey="s" class="button_submit">&nbsp;&nbsp;<input 
type="submit" name="cancel" value="Cancel" tabindex="3" onclick="return 
oQuickModify.modifyCancel();" 
class="button_submit">\n\t\t\t\t\t\t\t\t\t<' + 
'/div>\n\t\t\t\t\t\t\t\t<' + '/div>',
							sTemplateSubjectEdit: '<input type="text" name="subject" 
value="%subject%" size="80" maxlength="80" tabindex="4" 
class="input_text">',
							sTemplateBodyNormal: '%body%',
							sTemplateSubjectNormal: '<a hr'+'ef="' + smf_scripturl + 
'?topic=148206.msg%msg_id%#msg%msg_id%" rel="nofollow">%subject%<' + 
'/a>',
							sTemplateTopSubject: 'Topic: %subject% &nbsp;(Read 6939 times)',
							sTemplateReasonEdit: '<input type="text" name="modify_reason" 
value="%modify_reason%" size="80" maxlength="80" tabindex="5" 
class="input_text">)',
							sTemplateReasonNormal: '%modify_text',
							sErrorBorderStyle: '1px solid red'
						});

						aJumpTo[aJumpTo.length] = new JumpTo({
							sContainerId: "display_jump_to",
							sJumpToTemplate: "<label class=\"smalltext\" 
for=\"%select_id%\">Jump to:<" + "/label> %dropdown_list%",
							iCurBoardId: 3,
							iCurBoardChildLevel: 0,
							sCurBoardName: "Project Guidance",
							sBoardChildLevelIndicator: "==",
							sBoardPrefix: "=> ",
							sCatSeparator: "-----------------------------",
							sCatPrefix: "",
							sGoButtonLabel: "Go"
						});

						aIconLists[aIconLists.length] = new IconList({
							sBackReference: "aIconLists[" + aIconLists.length + "]",
							sIconIdPrefix: "msg_icon_",
							sScriptUrl: smf_scripturl,
							bShowModify: true,
							iBoardId: 3,
							iTopicId: 148206,
							sSessionId: smf_session_id,
							sSessionVar: smf_session_var,
							sLabelIconList: "Message icon",
							sBoxBackground: "transparent",
							sBoxBackgroundHover: "#ffffff",
							iBoxBorderWidthHover: 1,
							sBoxBorderColorHover: "#adadad" ,
							sContainerBackground: "#ffffff",
							sContainerBorder: "1px solid #adadad",
							sItemBorder: "1px solid #ffffff",
							sItemBorderHover: "1px dotted gray",
							sItemBackground: "transparent",
							sItemBackgroundHover: "#e0e0f0"
						});
					}
				// ]]></script>
			</div>
		</div>
	</div>
  </div>
</div>
           <br><style>.pagefooter a { color: white !important; }</style>
	<script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-22581631-3']);
		_gaq.push(['_setDomainName', 'arduino.cc']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

	</script><link rel="stylesheet" type="text/css" href="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/newsletter.css">
<div id="newsletterModal" class="reveal-modal small">
  <form action="//www.arduino.cc/subscribe.php" method="post" name="sendy-subscribe-form" id="sendy-subscribe-form" class="form-popup">
    <div class="modalHeader">
      <h3 style="line-height: 1.8rem;" class="modal-header-alt">This link has expired. <br>Please re-subscribe to our Newsletters.</h3>
      <h3 class="modal-header-main">Subscribe to our Newsletters</h3>
    </div>
    <div class="modalBody" id="newsletterModalBody">
        <div id="newsletterEmailField" class="row" style="padding-left: 0">
          <div class="large-2 columns">
            <label for="email" class="newsletter-form-label inline">Email</label>
          </div>
          <div class="large-10 columns" style="padding-left: 0">
            <input placeholder="Enter your email address" name="email" class="subscribe-form-input" type="email">
            <p id="emailMissing" class="newsletterPopupError">Please enter a valid email to subscribe</p>
          </div>
        </div>
        <div style="margin-left:20px">
          <div style="margin-bottom:0.3em">
            <input style="display:none" checked="checked" name="list[]" value="arduino_newsletter_id" id="worldwide" class="newsletter-form-checkbox" type="checkbox">
            <label for="worldwide"></label>
            <div style="display:inline-block" class="newsletter-form-label">Arduino Newsletter</div>
          </div>
          <div>
            <input style="display:none" checked="checked" name="list[]" value="arduino_store_newsletter_id" id="store" class="newsletter-form-checkbox" type="checkbox">
            <label for="store"></label>
            <div style="display:inline-block" class="newsletter-form-label">Arduino Store Newsletter</div>
          </div>
        </div>
        <div>
          <p class="newsletterPopupError2" id="newsletterSubscribeStatus"></p>
        </div>
    </div>
    <div class="row modalFooter">
      <div class="form-buttons-row">
        
          <button type="button" value="Cancel" class="popup-form-button white cancel-modal close-reveal-modal">Cancel</button>
          <button type="submit" name="Subscribe" id="subscribe-submit-btn" class="popup-form-button">Next</button>
        
      </div>
    </div>
  </form>

  <!-- step 2, confirm popup -->
  <div class="confirm-popup" style="margin-bottom:1em">
    <div class="modalHeader">
      <h3>Confirm your email address</h3>
    </div>
    <div class="modalBody" id="newsletterModalBody" style="padding-right:1em;margin-bottom:0">
        <p style="margin-bottom:1em;font-size:15px">
          We need to confirm your email address.<br>
          To complete the subscription, please click the link in the
          email we just sent you.
        </p>
        <p style="margin-bottom:1em;font-size:15px">
          Thank you for subscribing!
        </p>
        <p style="margin-bottom:1em;font-size:15px">
          Arduino<br>
          via Egeo 16<br>
          Torino, 10131<br>
          Italy<br>
        </p>
    </div>
    <div class="row modalFooter">
      <div class="form-buttons-row">
        
          <button name="Ok" class="popup-form-button" id="close-confirm-popup">Ok</button>

      </div>
    </div>
  </div>

</div>
<script type="application/javascript">
    $(document).ready(function() {
    
    function validateEmail(email) { 
        var re = 
/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

        return re.test(email);
    } 

    var openPopup = function() {

      $('.confirm-popup').hide();
      $('.form-popup').show();

      var modalBody = $('#newsletterModalBody');
      var emailInput = 
modalBody.find('#newsletterEmailField').find('input');
      var subscribeButton = $('#subscribe-submit-btn');
      var emailMissingP = modalBody.find('#emailMissing');
      var formValid = false;
      var confirmHtml = $('#newsletterModalConfirm').html();
      var email = $('#sendy-EMAIL').val(); 

      //reset popup values / appearance
      $("#newsletterSubscribeStatus").hide();
      $('#newsletterModal').find('.modal-header-main').show();
      $('#newsletterModal').find('.modal-header-alt').hide();
      emailMissingP.hide();
      emailInput.val('');
      modalBody.find('#store').prop('checked', true);
      modalBody.find('#worldwide').prop('checked', true);

      //both checkboxes checked at beginning 
       
      subscribeButton.removeAttr('disabled');

      //If user didn't provide email by footer input box, show input box
 in the popup, else just checkboxes
      if(validateEmail(email)) {
        emailInput.val(email); 
        formValid = true;
      } else {
        emailMissingP.show();  
        subscribeButton.attr('disabled', 'disabled');
        $('#sendy-EMAIL').val('');
        formValid = false;
      }

      $('#newsletterModal').foundation('reveal', 'open');

      emailInput.on('input propertychange paste', function(e) {
           if(!validateEmail(emailInput.val())) {
              emailMissingP.show();
              subscribeButton.attr('disabled', 'disabled');
              formValid = false;
           } else {
              formValid = true;
              emailMissingP.hide();
              subscribeButton.removeAttr('disabled');
           }     
      });
    };

    $('#sendy-EMAIL').on('keypress', function(e) {
      if(e.keyCode == 13) {
        openPopup();
      }
    });

    $('#sendy-subscribe').on('click', function() {
      openPopup();
    });
  
    $("#sendy-subscribe-form").on('keypress', function(e) {
        if(e.keyCode == 13 && formValid) {
          e.preventDefault(); 
          $(this).submit();
        }
    });

    $('#subscribe-submit-btn').on('click', function(e){
      e.preventDefault(); 
      // disable 'NEXT' button to avoid multiple submits
      $('#subscribe-submit-btn').attr('disabled', 'disabled');
      $("#sendy-subscribe-form").submit();
    });

    $('#close-confirm-popup').on('click', function(e){
      $('#newsletterModal').foundation('reveal', 'close');  
    });

    // trigger click on checkbox when clicking text label
    $('.newsletter-form-label').on('click', function(e){
      $(this).siblings("label").click();
    });

    $("#sendy-subscribe-form").on('submit', function(e){
      e.preventDefault(); 
      
      var $form = $(this),
      //name = $form.find('input[name="name"]').val(),
      email = $form.find('input[name="email"]').val(),
      lists = $form.find('input[name="list[]"]:checked'),
      url = $form.attr('action');
      
      //reset
      $("#newsletterSubscribeStatus").hide(); 

      if(!lists.length) {
        $("#newsletterSubscribeStatus").html("Please select at least 
<br> one newsletter.");
        $("#newsletterSubscribeStatus").show(); 
        //button 'NEXT' can be enabled
        $('#subscribe-submit-btn').removeAttr('disabled');
        return;
      }

      var listValues = [];
      for(var i=0; i<lists.length; i++) {
        listValues.push($(lists[i]).val());
      }

      $.post(url, {lists:listValues, email:email},
        function(data) {
            if(data)
            {
              if(data=="All fields are required.")
              {
                $("#newsletterSubscribeStatus").text("Please fill in 
your email.");
                $("#newsletterSubscribeStatus").show(); 
              }
              else if(data=="Invalid email address.")
              {
                $("#newsletterSubscribeStatus").text("Your email address
 is invalid.");
                $("#newsletterSubscribeStatus").show(); 
              }
              // else if(data=="Invalid list ID.")
              // {
              //   $("#newsletterSubscribeStatus").text("Your list ID is
 invalid.");
              //   $("#newsletterSubscribeStatus").show(); 
              // }
              else if(data=="Already subscribed.")
              {
                $("#newsletterSubscribeStatus").text("You're already 
subscribed!");
                $("#newsletterSubscribeStatus").show(); 
              }
              else if(data=="No list selected.")
              {
                $("#newsletterSubscribeStatus").text("Please select at 
least <br> one newsletter.");
                $("#newsletterSubscribeStatus").show(); 
              }
              else
              {
                //$("#newsletterSubscribeStatus").text("You're 
subscribed!");
                //change popup
                $('.form-popup').hide();
                $('.confirm-popup').show();
                
              }
            }
            else
            {
              alert("Sorry, unable to subscribe. Please try again 
later!");
            }
          //button 'NEXT' can be enabled now
          $('#subscribe-submit-btn').removeAttr('disabled');
        }
      );
    
    });

  });
  </script>
<div id="pagefooter" class="pagefooter">
  <div class="row">
    <div class="large-8 eight columns">
      <div class="large-4 four columns newsletter-box">
       <!-- Begin Sendy Signup Form -->
       <h6>Newsletter</h6>
        <div>
          <input name="email" class="email" id="sendy-EMAIL" placeholder="Enter your email to sign up" type="email">
          <i class="icon-right-small"></i>
          <input value="Subscribe" name="subscribe" id="sendy-subscribe" class="newsletter-button">
        </div>
       <!--End sendy_embed_signup-->
      </div>
      <div style="clear:both;"></div>
      <ul class="inline-list">
        <li class="monospace">2016 Arduino</li>
        <li><a href="http://www.arduino.cc/en/Main/CopyrightNotice">Copyright Notice</a></li>
        <li><a href="http://www.arduino.cc/en/Main/ContactUs">Contact us</a></li>
      </ul>
    </div>
    <div class="large-4 four columns">
      <ul id="arduinoSocialLinks" class="arduino-social-links">
        <li>
          <a href="https://twitter.com/arduino">
            <img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/twitter.png">
          </a>
        </li>
        <li>
          <a href="http://www.facebook.com/official.arduino">
            <img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/facebook.png">
          </a>
        </li>
        <li>
          <a href="https://plus.google.com/+Arduino">
            <img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/gplus.png">
          </a>
        </li>
        <li>
          <a href="http://www.flickr.com/photos/arduino_cc">
            <img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/flickr.png">
          </a>
        </li>
        <li>
          <a href="http://youtube.com/arduinoteam">
            <img src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/youtube.png">
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>

  <div id="ajax_in_progress" style="display: none;">Loading...</div>
<script><!-- // --><![CDATA[
	function triggerCron() {
		var tempImage = new Image();
		tempImage.src = 'http://forum.arduino.cc' + "/cron.php?ts=1452981510";
	}
	window.setTimeout(triggerCron, 1);
// ]]></script>
    <script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/modernizr.js"></script>
    <!--[if gte IE 9]><!-->
    <script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/foundation_002.js"></script>
    <script src="Mux%20Shield%20and%20DHT22%20Temperature%20Sensor%20-%20UNO%20Rv3_files/foundation.js"></script>
    <script>
      $(document).foundation();
    </script>
    <!--<![endif]-->
    <!--[if IE 8]>
    <script src="//www.arduino.cc/js/foundation_ie8.min.js"></script>
    <script src="//www.arduino.cc/js/ie8/jquery.foundation.alerts.js"></script>
    <script src="//www.arduino.cc/js/app.js"></script>
    <![endif]-->

</body></html>